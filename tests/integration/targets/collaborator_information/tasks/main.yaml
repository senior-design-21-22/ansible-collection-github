---
- name: Include the vars/args.yaml
  include_vars:
    file: vars/testing.yaml
    name: included_one_file

- name: Check to see arguments are defined
  assert:
    that:
      - "included_one_file['token'] == 'token' "
      - "included_one_file['organization_name'] == 'organization name' "

- assert:
    that:
      - "'{{ token }}' is defined"
      - "'{{ organization_name }}' is defined"

- name: Run this command
  ohioit.github.collaborator_information:
    token: "{{ token }}"
    organization_name: "{{ organization_name }}"
    repos:
      - "ansible-collection-github"
  register: result


# - assert:
#     that:
#       result.changed is false

# - name: "Integration testing collaborator information module enterprise"
#   script: ./scripts/{{ item }}.py "{{ enterprise_token }}" "{{ enterprise_organization_name }}" "{{ enterprise_url }}" "{{ user }}"
#   loop:
#     - collaborator_information_enterprise
#   args:
#     executable: Python3
#   register: result
#   changed_when: False

# - assert:
#     that:
#       result.changed is false
